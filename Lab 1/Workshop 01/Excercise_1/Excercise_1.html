<!DOCTYPE html>
<html>
  <head>
    <title>Survey</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="Excercise_1.css" />
  </head>
  <body>
    <div class="container">
      <img src="images/Logo-HCMIU.svg.png" alt="IU logo" />
      <h1>Survey</h1>
      <p>
        If you have a moment, we'd appreciate it if you would fill out this
        survey
      </p>
      <h3>Your information</h3>
      <form id="surveyForm">
        <div class="form-group">
          <div class="form-groupp">
            <div class="form-groupa">
              <label for="firstname">First Name:</label> <br />
              <label for="lastname">Last Name:</label> <br />
              <label for="email">Email:</label> <br />
              <label for="dateOfBirth">Date of Birth:</label> <br />
            </div>
            <div class="form-groupb">
              <input type="text" id="firstname" name="firstname" /> <br />
              <input type="text" id="lastname" name="lastname" /> <br />
              <input type="email" id="email" name="email" /> <br />
              <input type="text" id="dateOfBirth" name="dateOfBirth" /> <br />
            </div>
          </div>
        </div>

        <h3>How did you hear about us?</h3>
        <div class="form-group">
          <input
            type="radio"
            id="searchEngine"
            name="hearAboutUs"
            value="searchEngine"
            checked />
          <label for="searchEngine">Search engine</label>
          <input
            type="radio"
            id="wordOfMouth"
            name="hearAboutUs"
            value="wordOfMouth" />
          <label for="wordOfMouth">Word of mouth</label>
          <input
            type="radio"
            id="socialMedia"
            name="hearAboutUs"
            value="socialMedia" />
          <label for="socialMedia">Social Media</label>
          <input type="radio" id="other" name="hearAboutUs" value="other" />
          <label for="other">Other</label>
        </div>
        <div class="form-group">
          <label for="receiveAnnouncements"
            ><h3>
              Would you like to receive announcements about new CDs and special
              offers?
            </h3></label
          >
          <div>
            <input
              type="checkbox"
              id="yesIdLikeThat"
              name="receiveAnnouncements"
              value="yesIdLikeThat" />
            <label for="yesIdLikeThat">YES, I'd like that.</label>
          </div>
          <div>
            <input
              type="checkbox"
              id="yesPleaseSendEmail"
              name="receiveAnnouncements"
              value="yesPleaseSendEmail" />
            <label for="yesPleaseSendEmail"
              >YES, please send me email announcements.</label
            >
          </div>
        </div>
        <div class="form-group">
          <label for="contactMethod">Please contact me by:</label>
          <select id="contactMethod" name="contactMethod">
            <option value="emailOrPostalMail">Email or postal mail</option>
            <option value="emailOnly">Email only</option>
            <option value="postalMailOnly">Postal mail only</option>
          </select>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
    </div>

     <script>
      document.getElementById('surveyForm').addEventListener('submit', function(event) {
        event.preventDefault(); 

        const firstname = document.getElementById('firstname').value;
        const lastname = document.getElementById('lastname').value;
        const email = document.getElementById('email').value;
        const dateOfBirth = document.getElementById('dateOfBirth').value;
        const hearAboutUs = document.querySelector('input[name="hearAboutUs"]:checked').value;
        const announcements = [];

        if (document.getElementById('yesIdLikeThat').checked) {
          announcements.push(document.getElementById('yesIdLikeThat').value);
        }
        if (document.getElementById('yesPleaseSendEmail').checked) {
          announcements.push(document.getElementById('yesPleaseSendEmail').value);
        }

        const contactMethod = document.getElementById('contactMethod').value;
        const queryString = `result.html?firstname=${encodeURIComponent(firstname)}&lastname=${encodeURIComponent(lastname)}&email=${encodeURIComponent(email)}&dateOfBirth=${encodeURIComponent(dateOfBirth)}&hearAboutUs=${encodeURIComponent(hearAboutUs)}&announcements=${encodeURIComponent(announcements.join(', '))}&contactMethod=${encodeURIComponent(contactMethod)}`;

        window.location.href = queryString;
      });
    </script>
  </body>
</html>
